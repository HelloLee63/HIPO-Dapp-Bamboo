{"ast":null,"code":"import { useState, useCallback, useEffect } from 'react';\nimport { useFreshCallback } from './useFreshCallback.js';\nimport { useTimeoutWhen } from './useTimeoutWhen.js';\nconst useOnLongHover = function (callback) {\n  let {\n    duration = 300\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const [targetNode, setTargetNode] = useState(null);\n  const ref = useCallback(node => {\n    setTargetNode(node);\n  }, []);\n  const [isHovering, setIsHovering] = useState(false);\n  const freshCallback = useFreshCallback(callback);\n  useTimeoutWhen(() => {\n    freshCallback();\n  }, duration, isHovering);\n  const start = useCallback(() => {\n    setIsHovering(true);\n  }, []);\n  const handleOnMouseLeave = useCallback(_ => {\n    setIsHovering(false);\n  }, []);\n  useEffect(() => {\n    if (targetNode) {\n      targetNode.addEventListener(\"mouseenter\", start);\n      targetNode.addEventListener(\"mouseleave\", handleOnMouseLeave);\n    }\n    return () => {\n      if (targetNode) {\n        targetNode.removeEventListener(\"mouseenter\", start);\n        targetNode.removeEventListener(\"mouseleave\", handleOnMouseLeave);\n      }\n    };\n  }, [start, handleOnMouseLeave, targetNode]);\n  return ref;\n};\nexport { useOnLongHover };","map":{"version":3,"names":["useState","useCallback","useEffect","useFreshCallback","useTimeoutWhen","useOnLongHover","callback","duration","arguments","length","undefined","targetNode","setTargetNode","ref","node","isHovering","setIsHovering","freshCallback","start","handleOnMouseLeave","_","addEventListener","removeEventListener"],"sources":["/Users/lijinxing/Documents/hipo-dapp-bamboo/node_modules/rooks/dist/esm/hooks/useOnLongHover.js"],"sourcesContent":["import { useState, useCallback, useEffect } from 'react';\nimport { useFreshCallback } from './useFreshCallback.js';\nimport { useTimeoutWhen } from './useTimeoutWhen.js';\n\nconst useOnLongHover = (callback, { duration = 300 } = {}) => {\r\n    const [targetNode, setTargetNode] = useState(null);\r\n    const ref = useCallback((node) => {\r\n        setTargetNode(node);\r\n    }, []);\r\n    const [isHovering, setIsHovering] = useState(false);\r\n    const freshCallback = useFreshCallback(callback);\r\n    useTimeoutWhen(() => {\r\n        freshCallback();\r\n    }, duration, isHovering);\r\n    const start = useCallback(() => {\r\n        setIsHovering(true);\r\n    }, []);\r\n    const handleOnMouseLeave = useCallback((_) => {\r\n        setIsHovering(false);\r\n    }, []);\r\n    useEffect(() => {\r\n        if (targetNode) {\r\n            targetNode.addEventListener(\"mouseenter\", start);\r\n            targetNode.addEventListener(\"mouseleave\", handleOnMouseLeave);\r\n        }\r\n        return () => {\r\n            if (targetNode) {\r\n                targetNode.removeEventListener(\"mouseenter\", start);\r\n                targetNode.removeEventListener(\"mouseleave\", handleOnMouseLeave);\r\n            }\r\n        };\r\n    }, [start, handleOnMouseLeave, targetNode]);\r\n    return ref;\r\n};\n\nexport { useOnLongHover };\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AACxD,SAASC,gBAAgB,QAAQ,uBAAuB;AACxD,SAASC,cAAc,QAAQ,qBAAqB;AAEpD,MAAMC,cAAc,GAAG,SAAAA,CAACC,QAAQ,EAA8B;EAAA,IAA5B;IAAEC,QAAQ,GAAG;EAAI,CAAC,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EACrD,MAAM,CAACG,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAMa,GAAG,GAAGZ,WAAW,CAAEa,IAAI,IAAK;IAC9BF,aAAa,CAACE,IAAI,CAAC;EACvB,CAAC,EAAE,EAAE,CAAC;EACN,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAMiB,aAAa,GAAGd,gBAAgB,CAACG,QAAQ,CAAC;EAChDF,cAAc,CAAC,MAAM;IACjBa,aAAa,EAAE;EACnB,CAAC,EAAEV,QAAQ,EAAEQ,UAAU,CAAC;EACxB,MAAMG,KAAK,GAAGjB,WAAW,CAAC,MAAM;IAC5Be,aAAa,CAAC,IAAI,CAAC;EACvB,CAAC,EAAE,EAAE,CAAC;EACN,MAAMG,kBAAkB,GAAGlB,WAAW,CAAEmB,CAAC,IAAK;IAC1CJ,aAAa,CAAC,KAAK,CAAC;EACxB,CAAC,EAAE,EAAE,CAAC;EACNd,SAAS,CAAC,MAAM;IACZ,IAAIS,UAAU,EAAE;MACZA,UAAU,CAACU,gBAAgB,CAAC,YAAY,EAAEH,KAAK,CAAC;MAChDP,UAAU,CAACU,gBAAgB,CAAC,YAAY,EAAEF,kBAAkB,CAAC;IACjE;IACA,OAAO,MAAM;MACT,IAAIR,UAAU,EAAE;QACZA,UAAU,CAACW,mBAAmB,CAAC,YAAY,EAAEJ,KAAK,CAAC;QACnDP,UAAU,CAACW,mBAAmB,CAAC,YAAY,EAAEH,kBAAkB,CAAC;MACpE;IACJ,CAAC;EACL,CAAC,EAAE,CAACD,KAAK,EAAEC,kBAAkB,EAAER,UAAU,CAAC,CAAC;EAC3C,OAAOE,GAAG;AACd,CAAC;AAED,SAASR,cAAc"},"metadata":{},"sourceType":"module"}