{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport { abi as IUniswapV3PoolABI } from '@uniswap/v3-core/artifacts/contracts/interfaces/IUniswapV3Pool.sol/IUniswapV3Pool.json';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InterestPoolInfo = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const providerUrl = 'http://127.0.0.1:8545';\n  const poolAddress = '0x71C0b51BD49454748fbd179B8A57980FcCaD756D';\n  const [price, setPrice] = useState(0);\n  const fetchPoolData = async () => {\n    const provider = new ethers.providers.JsonRpcProvider(providerUrl);\n    const poolContract = new ethers.Contract(poolAddress, IUniswapV3PoolABI, provider);\n    const slot0 = await poolContract.slot0();\n    const currentPrice = parseFloat(slot0[0].toString()) / parseFloat(slot0[1].toString());\n    setPrice(currentPrice);\n  };\n  useEffect(() => {\n    fetchPoolData();\n  }, []);\n  console.log(price);\n  return (\n    /*#__PURE__*/\n    // <div>\n    //   <div>Token A: {tokenA.symbol} - Reserves: {tokenA.reserves}</div>\n    //   <div>Token B: {tokenB.symbol} - Reserves: {tokenB.reserves}</div>\n    //   <div>Price: 1 {tokenA.symbol} = {price} {tokenB.symbol}</div>\n    // </div>\n    _jsxDEV(_Fragment, {\n      children: children\n    }, void 0, false)\n  );\n};\n_s(InterestPoolInfo, \"iFUZSRAb9ibYi8LU9CUAlPfDQ9Y=\");\n_c = InterestPoolInfo;\nexport default InterestPoolInfo;\nvar _c;\n$RefreshReg$(_c, \"InterestPoolInfo\");","map":{"version":3,"names":["React","useEffect","useState","ethers","abi","IUniswapV3PoolABI","Fragment","_Fragment","jsxDEV","_jsxDEV","InterestPoolInfo","_ref","_s","children","providerUrl","poolAddress","price","setPrice","fetchPoolData","provider","providers","JsonRpcProvider","poolContract","Contract","slot0","currentPrice","parseFloat","toString","console","log","_c","$RefreshReg$"],"sources":["/Users/lijinxing/Documents/hipo-dapp-bamboo/src/web3/components/interest-pool-info/InterestPoolInfo.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { ethers } from 'ethers';\nimport { abi as IUniswapV3PoolABI } from '@uniswap/v3-core/artifacts/contracts/interfaces/IUniswapV3Pool.sol/IUniswapV3Pool.json';\n\nconst InterestPoolInfo = ({ children }) => {\n  const providerUrl = 'http://127.0.0.1:8545'\n  const poolAddress = '0x71C0b51BD49454748fbd179B8A57980FcCaD756D'\n  const [price, setPrice] = useState(0);\n\n  const fetchPoolData = async () => {\n    const provider = new ethers.providers.JsonRpcProvider(providerUrl);\n    const poolContract = new ethers.Contract(poolAddress, IUniswapV3PoolABI, provider);\n\n    const slot0 = await poolContract.slot0();\n    const currentPrice = parseFloat(slot0[0].toString()) / parseFloat(slot0[1].toString());\n    setPrice(currentPrice);\n  };\n\n  useEffect(() => {\n    fetchPoolData();\n  }, []);\n\n  console.log(price);\n\n  return (\n    // <div>\n    //   <div>Token A: {tokenA.symbol} - Reserves: {tokenA.reserves}</div>\n    //   <div>Token B: {tokenB.symbol} - Reserves: {tokenB.reserves}</div>\n    //   <div>Price: 1 {tokenA.symbol} = {price} {tokenB.symbol}</div>\n    // </div>\n    <>\n      {children}\n    </>\n  );\n};\n\nexport default InterestPoolInfo\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,MAAM,QAAQ,QAAQ;AAC/B,SAASC,GAAG,IAAIC,iBAAiB,QAAQ,wFAAwF;AAAC,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAElI,MAAMC,gBAAgB,GAAGC,IAAA,IAAkB;EAAAC,EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC,GAAAF,IAAA;EACpC,MAAMG,WAAW,GAAG,uBAAuB;EAC3C,MAAMC,WAAW,GAAG,4CAA4C;EAChE,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,CAAC,CAAC;EAErC,MAAMgB,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,MAAMC,QAAQ,GAAG,IAAIhB,MAAM,CAACiB,SAAS,CAACC,eAAe,CAACP,WAAW,CAAC;IAClE,MAAMQ,YAAY,GAAG,IAAInB,MAAM,CAACoB,QAAQ,CAACR,WAAW,EAAEV,iBAAiB,EAAEc,QAAQ,CAAC;IAElF,MAAMK,KAAK,GAAG,MAAMF,YAAY,CAACE,KAAK,EAAE;IACxC,MAAMC,YAAY,GAAGC,UAAU,CAACF,KAAK,CAAC,CAAC,CAAC,CAACG,QAAQ,EAAE,CAAC,GAAGD,UAAU,CAACF,KAAK,CAAC,CAAC,CAAC,CAACG,QAAQ,EAAE,CAAC;IACtFV,QAAQ,CAACQ,YAAY,CAAC;EACxB,CAAC;EAEDxB,SAAS,CAAC,MAAM;IACdiB,aAAa,EAAE;EACjB,CAAC,EAAE,EAAE,CAAC;EAENU,OAAO,CAACC,GAAG,CAACb,KAAK,CAAC;EAElB;IAAA;IACE;IACA;IACA;IACA;IACA;IACAP,OAAA,CAAAF,SAAA;MAAAM,QAAA,EACGA;IAAQ;EACR;AAEP,CAAC;AAACD,EAAA,CA9BIF,gBAAgB;AAAAoB,EAAA,GAAhBpB,gBAAgB;AAgCtB,eAAeA,gBAAgB;AAAA,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}