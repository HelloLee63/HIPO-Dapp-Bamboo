{"ast":null,"code":"import BigNumber from \"bignumber.js\";\nexport function formatPercent(value) {\n  let decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  if (value === undefined || Number.isNaN(value)) {\n    return undefined;\n  }\n  const rate = BigNumber.isBigNumber(value) ? value.toNumber() : value;\n  return Intl.NumberFormat('en', {\n    style: 'percent',\n    maximumFractionDigits: decimals\n  }).format(rate);\n}\nexport function calAPY(price, duration) {\n  // price is the price of interest token, such as 0.01 usdt.\n\n  if (price === undefined || Number.isNaN(price)) {\n    return undefined;\n  }\n  const value = BigNumber.isBigNumber(price) ? price.toNumber() : price;\n  return formatPercent(value / duration * 365 / (1 - value));\n}","map":{"version":3,"names":["BigNumber","formatPercent","value","decimals","arguments","length","undefined","Number","isNaN","rate","isBigNumber","toNumber","Intl","NumberFormat","style","maximumFractionDigits","format","calAPY","price","duration"],"sources":["/Users/lijinxing/Documents/hipo-dapp-bamboo/src/web3/helpers/apyCalculate.js"],"sourcesContent":["import BigNumber from \"bignumber.js\"\n\nexport function formatPercent(value, decimals = 2) {\n  if(value === undefined || Number.isNaN(value)) {\n    return undefined\n  }\n\n  const rate = BigNumber.isBigNumber(value) ? value.toNumber() : value\n\n  return Intl.NumberFormat('en', {\n    style: 'percent',\n    maximumFractionDigits: decimals,\n  }).format(rate)\n}\n\nexport function calAPY(price, duration) {\n  // price is the price of interest token, such as 0.01 usdt.\n\n  if (price === undefined || Number.isNaN(price)) {\n    return undefined\n  }\n\n  const value = BigNumber.isBigNumber(price) ? price.toNumber() : price\n\n  return formatPercent((value / duration * 365) / (1 - value))\n}"],"mappings":"AAAA,OAAOA,SAAS,MAAM,cAAc;AAEpC,OAAO,SAASC,aAAaA,CAACC,KAAK,EAAgB;EAAA,IAAdC,QAAQ,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAC/C,IAAGF,KAAK,KAAKI,SAAS,IAAIC,MAAM,CAACC,KAAK,CAACN,KAAK,CAAC,EAAE;IAC7C,OAAOI,SAAS;EAClB;EAEA,MAAMG,IAAI,GAAGT,SAAS,CAACU,WAAW,CAACR,KAAK,CAAC,GAAGA,KAAK,CAACS,QAAQ,EAAE,GAAGT,KAAK;EAEpE,OAAOU,IAAI,CAACC,YAAY,CAAC,IAAI,EAAE;IAC7BC,KAAK,EAAE,SAAS;IAChBC,qBAAqB,EAAEZ;EACzB,CAAC,CAAC,CAACa,MAAM,CAACP,IAAI,CAAC;AACjB;AAEA,OAAO,SAASQ,MAAMA,CAACC,KAAK,EAAEC,QAAQ,EAAE;EACtC;;EAEA,IAAID,KAAK,KAAKZ,SAAS,IAAIC,MAAM,CAACC,KAAK,CAACU,KAAK,CAAC,EAAE;IAC9C,OAAOZ,SAAS;EAClB;EAEA,MAAMJ,KAAK,GAAGF,SAAS,CAACU,WAAW,CAACQ,KAAK,CAAC,GAAGA,KAAK,CAACP,QAAQ,EAAE,GAAGO,KAAK;EAErE,OAAOjB,aAAa,CAAEC,KAAK,GAAGiB,QAAQ,GAAG,GAAG,IAAK,CAAC,GAAGjB,KAAK,CAAC,CAAC;AAC9D"},"metadata":{},"sourceType":"module"}