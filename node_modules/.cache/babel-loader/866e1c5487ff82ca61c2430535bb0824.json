{"ast":null,"code":"import { useRef, useState, useCallback, useEffect } from 'react';\nimport { noop } from '../utils/noop.js';\n\n/**\r\n * useOutsideClickRef hook\r\n * Checks if a click happened outside a Ref. Handy for dropdowns, modals and popups etc.\r\n *\r\n * @param handler Callback to fire on outside click\r\n * @param when A boolean which which activates the hook only when it is true. Useful for conditionally enable the outside click\r\n * @returns An array with first item being ref\r\n * @see https://rooks.vercel.app/docs/useOutsideClick\r\n */\nfunction useOutsideClickRef(handler) {\n  let when = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  const savedHandler = useRef(handler);\n  const [node, setNode] = useState(null);\n  const memoizedCallback = useCallback(event => {\n    if (node && !node.contains(event.target)) {\n      savedHandler.current(event);\n    }\n  }, [node]);\n  useEffect(() => {\n    savedHandler.current = handler;\n  });\n  const ref = useCallback(nodeElement => {\n    setNode(nodeElement);\n  }, []);\n  useEffect(() => {\n    if (when) {\n      document.addEventListener(\"click\", memoizedCallback, true);\n      document.addEventListener(\"ontouchstart\", memoizedCallback, true);\n      return () => {\n        document.removeEventListener(\"click\", memoizedCallback, true);\n        document.removeEventListener(\"ontouchstart\", memoizedCallback, true);\n      };\n    }\n    return noop;\n  }, [when, memoizedCallback]);\n  return [ref];\n}\nexport { useOutsideClickRef };","map":{"version":3,"names":["useRef","useState","useCallback","useEffect","noop","useOutsideClickRef","handler","when","arguments","length","undefined","savedHandler","node","setNode","memoizedCallback","event","contains","target","current","ref","nodeElement","document","addEventListener","removeEventListener"],"sources":["/Users/lijinxing/Documents/hipo-dapp-bamboo/node_modules/rooks/dist/esm/hooks/useOutsideClickRef.js"],"sourcesContent":["import { useRef, useState, useCallback, useEffect } from 'react';\nimport { noop } from '../utils/noop.js';\n\n/**\r\n * useOutsideClickRef hook\r\n * Checks if a click happened outside a Ref. Handy for dropdowns, modals and popups etc.\r\n *\r\n * @param handler Callback to fire on outside click\r\n * @param when A boolean which which activates the hook only when it is true. Useful for conditionally enable the outside click\r\n * @returns An array with first item being ref\r\n * @see https://rooks.vercel.app/docs/useOutsideClick\r\n */\r\nfunction useOutsideClickRef(handler, when = true) {\r\n    const savedHandler = useRef(handler);\r\n    const [node, setNode] = useState(null);\r\n    const memoizedCallback = useCallback((event) => {\r\n        if (node && !node.contains(event.target)) {\r\n            savedHandler.current(event);\r\n        }\r\n    }, [node]);\r\n    useEffect(() => {\r\n        savedHandler.current = handler;\r\n    });\r\n    const ref = useCallback((nodeElement) => {\r\n        setNode(nodeElement);\r\n    }, []);\r\n    useEffect(() => {\r\n        if (when) {\r\n            document.addEventListener(\"click\", memoizedCallback, true);\r\n            document.addEventListener(\"ontouchstart\", memoizedCallback, true);\r\n            return () => {\r\n                document.removeEventListener(\"click\", memoizedCallback, true);\r\n                document.removeEventListener(\"ontouchstart\", memoizedCallback, true);\r\n            };\r\n        }\r\n        return noop;\r\n    }, [when, memoizedCallback]);\r\n    return [ref];\r\n}\n\nexport { useOutsideClickRef };\n"],"mappings":"AAAA,SAASA,MAAM,EAAEC,QAAQ,EAAEC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AAChE,SAASC,IAAI,QAAQ,kBAAkB;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,kBAAkBA,CAACC,OAAO,EAAe;EAAA,IAAbC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;EAC5C,MAAMG,YAAY,GAAGX,MAAM,CAACM,OAAO,CAAC;EACpC,MAAM,CAACM,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAMa,gBAAgB,GAAGZ,WAAW,CAAEa,KAAK,IAAK;IAC5C,IAAIH,IAAI,IAAI,CAACA,IAAI,CAACI,QAAQ,CAACD,KAAK,CAACE,MAAM,CAAC,EAAE;MACtCN,YAAY,CAACO,OAAO,CAACH,KAAK,CAAC;IAC/B;EACJ,CAAC,EAAE,CAACH,IAAI,CAAC,CAAC;EACVT,SAAS,CAAC,MAAM;IACZQ,YAAY,CAACO,OAAO,GAAGZ,OAAO;EAClC,CAAC,CAAC;EACF,MAAMa,GAAG,GAAGjB,WAAW,CAAEkB,WAAW,IAAK;IACrCP,OAAO,CAACO,WAAW,CAAC;EACxB,CAAC,EAAE,EAAE,CAAC;EACNjB,SAAS,CAAC,MAAM;IACZ,IAAII,IAAI,EAAE;MACNc,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAER,gBAAgB,EAAE,IAAI,CAAC;MAC1DO,QAAQ,CAACC,gBAAgB,CAAC,cAAc,EAAER,gBAAgB,EAAE,IAAI,CAAC;MACjE,OAAO,MAAM;QACTO,QAAQ,CAACE,mBAAmB,CAAC,OAAO,EAAET,gBAAgB,EAAE,IAAI,CAAC;QAC7DO,QAAQ,CAACE,mBAAmB,CAAC,cAAc,EAAET,gBAAgB,EAAE,IAAI,CAAC;MACxE,CAAC;IACL;IACA,OAAOV,IAAI;EACf,CAAC,EAAE,CAACG,IAAI,EAAEO,gBAAgB,CAAC,CAAC;EAC5B,OAAO,CAACK,GAAG,CAAC;AAChB;AAEA,SAASd,kBAAkB"},"metadata":{},"sourceType":"module"}