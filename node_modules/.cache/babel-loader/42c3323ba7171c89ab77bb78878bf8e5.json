{"ast":null,"code":"export function formatPercent(value) {\n  let decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  if (value === undefined || Number.isNaN(value)) {\n    return undefined;\n  }\n  const rate = BigNumber.isBigNumber(value) ? value.toNumber() : value;\n  return Intl.NumberFormat('en', {\n    style: 'percent',\n    maximumFractionDigits: decimals\n  }).format(rate);\n}\nexport function calAPY(price, duration) {\n  // price is the price of interest token, such as 0.01 usdt.\n\n  if (price === undefined || Number.isNaN(price)) {\n    return undefined;\n  }\n  const value = BigNumber.isBigNumber(price) ? price.toNumber() : price;\n  return formatPercent(value / duration * 365 / (1 - value));\n}","map":{"version":3,"names":["formatPercent","value","decimals","arguments","length","undefined","Number","isNaN","rate","BigNumber","isBigNumber","toNumber","Intl","NumberFormat","style","maximumFractionDigits","format","calAPY","price","duration"],"sources":["/Users/lijinxing/Documents/hipo-dapp-bamboo/src/web3/helpers/apyCalculate.js"],"sourcesContent":["export function formatPercent(value, decimals = 2) {\n  if(value === undefined || Number.isNaN(value)) {\n    return undefined\n  }\n\n  const rate = BigNumber.isBigNumber(value) ? value.toNumber() : value\n\n  return Intl.NumberFormat('en', {\n    style: 'percent',\n    maximumFractionDigits: decimals,\n  }).format(rate)\n}\n\nexport function calAPY(price, duration) {\n  // price is the price of interest token, such as 0.01 usdt.\n  \n  if (price === undefined || Number.isNaN(price)) {\n    return undefined\n  }\n\n  const value = BigNumber.isBigNumber(price) ? price.toNumber() : price\n\n  return formatPercent((value / duration * 365) / (1 - value))\n}"],"mappings":"AAAA,OAAO,SAASA,aAAaA,CAACC,KAAK,EAAgB;EAAA,IAAdC,QAAQ,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAC/C,IAAGF,KAAK,KAAKI,SAAS,IAAIC,MAAM,CAACC,KAAK,CAACN,KAAK,CAAC,EAAE;IAC7C,OAAOI,SAAS;EAClB;EAEA,MAAMG,IAAI,GAAGC,SAAS,CAACC,WAAW,CAACT,KAAK,CAAC,GAAGA,KAAK,CAACU,QAAQ,EAAE,GAAGV,KAAK;EAEpE,OAAOW,IAAI,CAACC,YAAY,CAAC,IAAI,EAAE;IAC7BC,KAAK,EAAE,SAAS;IAChBC,qBAAqB,EAAEb;EACzB,CAAC,CAAC,CAACc,MAAM,CAACR,IAAI,CAAC;AACjB;AAEA,OAAO,SAASS,MAAMA,CAACC,KAAK,EAAEC,QAAQ,EAAE;EACtC;;EAEA,IAAID,KAAK,KAAKb,SAAS,IAAIC,MAAM,CAACC,KAAK,CAACW,KAAK,CAAC,EAAE;IAC9C,OAAOb,SAAS;EAClB;EAEA,MAAMJ,KAAK,GAAGQ,SAAS,CAACC,WAAW,CAACQ,KAAK,CAAC,GAAGA,KAAK,CAACP,QAAQ,EAAE,GAAGO,KAAK;EAErE,OAAOlB,aAAa,CAAEC,KAAK,GAAGkB,QAAQ,GAAG,GAAG,IAAK,CAAC,GAAGlB,KAAK,CAAC,CAAC;AAC9D"},"metadata":{},"sourceType":"module"}