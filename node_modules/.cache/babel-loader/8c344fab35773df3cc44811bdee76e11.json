{"ast":null,"code":"var _jsxFileName = \"/Users/lijinxing/Documents/hipo-dapp-bamboo/src/web3/components/interest-pool-info/InterestPoolInfo.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Pool } from '@uniswap/v3-sdk';\nimport { Token, WETH9 } from '@uniswap/sdk-core';\nimport { ethers } from 'ethers';\nimport { abi as IUniswapV3PoolABI } from '@uniswap/v3-core/artifacts/contracts/interfaces/IUniswapV3Pool.sol/IUniswapV3Pool.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InterestPoolInfo = () => {\n  _s();\n  const providerUrl = 'http://127.0.0.1:8545';\n  const poolAddress = '0x76Fc3d3A61F86Df23FFED7085Ec28584446D4E7C';\n  const [tokenA, setTokenA] = useState({});\n  const [tokenB, setTokenB] = useState({});\n  const [price, setPrice] = useState(0);\n  const fetchPoolData = async () => {\n    var _pool$reserve, _pool$reserve2;\n    const provider = new ethers.providers.JsonRpcProvider(providerUrl);\n    const poolContract = new ethers.Contract(poolAddress, IUniswapV3PoolABI, provider);\n    const slot0 = await poolContract.slot0();\n    const currentPrice = parseFloat(slot0[0].toString()) / parseFloat(slot0[1].toString());\n    const token0Address = await poolContract.token0();\n    console.log('token0Address is :', token0Address);\n    const token1Address = await poolContract.token1();\n    console.log('token0Address is :', token1Address);\n    const token0 = new Token(1, token0Address, 18);\n    const token1 = new Token(1, token1Address, 18);\n    const liquidity = await poolContract.liquidity();\n    const sqrtPriceX96 = slot0[0];\n    const sqrtPriceAX96 = slot0[1];\n    const pool = new Pool(token0, token1, 3000, sqrtPriceX96, liquidity, sqrtPriceAX96);\n    const token0Reserves = (_pool$reserve = pool.reserve0) === null || _pool$reserve === void 0 ? void 0 : _pool$reserve.toFixed(2);\n    const token1Reserves = (_pool$reserve2 = pool.reserve1) === null || _pool$reserve2 === void 0 ? void 0 : _pool$reserve2.toFixed(2);\n    setTokenA({\n      symbol: token0.symbol,\n      reserves: token0Reserves\n    });\n    setTokenB({\n      symbol: token1.symbol,\n      reserves: token1Reserves\n    });\n    setPrice(currentPrice);\n  };\n  useEffect(() => {\n    fetchPoolData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Token A: \", tokenA.symbol, \" - Reserves: \", tokenA.reserves]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Token B: \", tokenB.symbol, \" - Reserves: \", tokenB.reserves]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Price: 1 \", tokenA.symbol, \" = \", price, \" \", tokenB.symbol]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this)\n  // <>\n  //   {children}\n  // </>\n  ;\n};\n_s(InterestPoolInfo, \"byPl7/4ro/q0SN6xGayANutMxoo=\");\n_c = InterestPoolInfo;\nexport default InterestPoolInfo;\nvar _c;\n$RefreshReg$(_c, \"InterestPoolInfo\");","map":{"version":3,"names":["React","useEffect","useState","Pool","Token","WETH9","ethers","abi","IUniswapV3PoolABI","jsxDEV","_jsxDEV","InterestPoolInfo","_s","providerUrl","poolAddress","tokenA","setTokenA","tokenB","setTokenB","price","setPrice","fetchPoolData","_pool$reserve","_pool$reserve2","provider","providers","JsonRpcProvider","poolContract","Contract","slot0","currentPrice","parseFloat","toString","token0Address","token0","console","log","token1Address","token1","liquidity","sqrtPriceX96","sqrtPriceAX96","pool","token0Reserves","reserve0","toFixed","token1Reserves","reserve1","symbol","reserves","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/lijinxing/Documents/hipo-dapp-bamboo/src/web3/components/interest-pool-info/InterestPoolInfo.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Pool } from '@uniswap/v3-sdk';\nimport { Token, WETH9 } from '@uniswap/sdk-core';\nimport { ethers } from 'ethers';\nimport { abi as IUniswapV3PoolABI } from '@uniswap/v3-core/artifacts/contracts/interfaces/IUniswapV3Pool.sol/IUniswapV3Pool.json';\n\nconst InterestPoolInfo = () => {\n  const providerUrl = 'http://127.0.0.1:8545'\n  const poolAddress = '0x76Fc3d3A61F86Df23FFED7085Ec28584446D4E7C'\n  const [tokenA, setTokenA] = useState({});\n  const [tokenB, setTokenB] = useState({});\n  const [price, setPrice] = useState(0);\n\n  const fetchPoolData = async () => {\n    const provider = new ethers.providers.JsonRpcProvider(providerUrl);\n    const poolContract = new ethers.Contract(poolAddress, IUniswapV3PoolABI, provider);\n\n    const slot0 = await poolContract.slot0();\n    const currentPrice = parseFloat(slot0[0].toString()) / parseFloat(slot0[1].toString());\n\n    const token0Address = await poolContract.token0();\n    console.log('token0Address is :', token0Address);\n    const token1Address = await poolContract.token1();\n    console.log('token0Address is :', token1Address);\n\n    const token0 = new Token(1, token0Address, 18);\n    const token1 = new Token(1, token1Address, 18);\n\n    const liquidity = await poolContract.liquidity();\n    const sqrtPriceX96 = slot0[0];\n    const sqrtPriceAX96 = slot0[1];\n    const pool = new Pool(token0, token1, 3000, sqrtPriceX96, liquidity, sqrtPriceAX96);\n\n    const token0Reserves = pool.reserve0?.toFixed(2);\n    const token1Reserves = pool.reserve1?.toFixed(2);\n\n    setTokenA({ symbol: token0.symbol, reserves: token0Reserves });\n    setTokenB({ symbol: token1.symbol, reserves: token1Reserves });\n    setPrice(currentPrice);\n  };\n\n  useEffect(() => {\n    fetchPoolData();\n  }, []);\n\n  return (\n    <div>\n      <div>Token A: {tokenA.symbol} - Reserves: {tokenA.reserves}</div>\n      <div>Token B: {tokenB.symbol} - Reserves: {tokenB.reserves}</div>\n      <div>Price: 1 {tokenA.symbol} = {price} {tokenB.symbol}</div>\n    </div>\n    // <>\n    //   {children}\n    // </>\n  );\n};\n\nexport default InterestPoolInfo\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}