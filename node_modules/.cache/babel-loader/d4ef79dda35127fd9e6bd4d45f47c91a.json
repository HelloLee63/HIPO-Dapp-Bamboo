{"ast":null,"code":"import { useState, useCallback, useEffect } from 'react';\nimport { useFreshCallback } from './useFreshCallback.js';\nfunction useIsDroppingFiles() {\n  let isTargetWindow = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  const [targetNode, setTargetNode] = useState(null);\n  const ref = useCallback(node => {\n    setTargetNode(node);\n  }, []);\n  const [isDroppingFiles, setIsDroppingFiles] = useState(false);\n  const handleDragEnter = useCallback(e => {\n    var _a;\n    e.preventDefault();\n    if ((_a = e.dataTransfer) === null || _a === void 0 ? void 0 : _a.types.includes(\"Files\")) {\n      if (!isDroppingFiles) {\n        setIsDroppingFiles(true);\n      }\n    } else {\n      setIsDroppingFiles(false);\n    }\n  }, [isDroppingFiles]);\n  const handleDragOver = useCallback(e => {\n    var _a;\n    e.preventDefault();\n    if ((_a = e.dataTransfer) === null || _a === void 0 ? void 0 : _a.types.includes(\"Files\")) {\n      if (!isDroppingFiles) {\n        setIsDroppingFiles(true);\n      }\n    } else {\n      setIsDroppingFiles(false);\n    }\n  }, [isDroppingFiles]);\n  const handleDragLeave = useCallback(e => {\n    e.preventDefault();\n    setIsDroppingFiles(false);\n  }, []);\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    setIsDroppingFiles(false);\n  }, []);\n  const freshHandleDragEnter = useFreshCallback(handleDragEnter);\n  const freshHandleDragOver = useFreshCallback(handleDragOver);\n  const freshHandleDragLeave = useFreshCallback(handleDragLeave);\n  const freshHandleDrop = useFreshCallback(handleDrop);\n  useEffect(() => {\n    const target = isTargetWindow ? window : targetNode;\n    if (target) {\n      target.addEventListener(\"dragenter\", freshHandleDragEnter);\n      target.addEventListener(\"dragover\", freshHandleDragOver);\n      target.addEventListener(\"dragleave\", freshHandleDragLeave);\n      target.addEventListener(\"drop\", freshHandleDrop);\n    }\n    return () => {\n      if (target) {\n        target.removeEventListener(\"dragenter\", freshHandleDragEnter);\n        target.removeEventListener(\"dragover\", freshHandleDragOver);\n        target.removeEventListener(\"dragleave\", freshHandleDragLeave);\n        target.removeEventListener(\"drop\", freshHandleDrop);\n      }\n    };\n  }, [freshHandleDragEnter, freshHandleDragLeave, freshHandleDragOver, freshHandleDrop, isDroppingFiles, isTargetWindow, targetNode]);\n  if (isTargetWindow) {\n    return isDroppingFiles;\n  }\n  return [ref, isDroppingFiles];\n}\nexport { useIsDroppingFiles };","map":{"version":3,"names":["useState","useCallback","useEffect","useFreshCallback","useIsDroppingFiles","isTargetWindow","arguments","length","undefined","targetNode","setTargetNode","ref","node","isDroppingFiles","setIsDroppingFiles","handleDragEnter","e","_a","preventDefault","dataTransfer","types","includes","handleDragOver","handleDragLeave","handleDrop","freshHandleDragEnter","freshHandleDragOver","freshHandleDragLeave","freshHandleDrop","target","window","addEventListener","removeEventListener"],"sources":["/Users/lijinxing/Documents/hipo-dapp-bamboo/node_modules/rooks/dist/esm/hooks/useIsDroppingFiles.js"],"sourcesContent":["import { useState, useCallback, useEffect } from 'react';\nimport { useFreshCallback } from './useFreshCallback.js';\n\nfunction useIsDroppingFiles(isTargetWindow = false) {\r\n    const [targetNode, setTargetNode] = useState(null);\r\n    const ref = useCallback((node) => {\r\n        setTargetNode(node);\r\n    }, []);\r\n    const [isDroppingFiles, setIsDroppingFiles] = useState(false);\r\n    const handleDragEnter = useCallback((e) => {\r\n        var _a;\r\n        e.preventDefault();\r\n        if ((_a = e.dataTransfer) === null || _a === void 0 ? void 0 : _a.types.includes(\"Files\")) {\r\n            if (!isDroppingFiles) {\r\n                setIsDroppingFiles(true);\r\n            }\r\n        }\r\n        else {\r\n            setIsDroppingFiles(false);\r\n        }\r\n    }, [isDroppingFiles]);\r\n    const handleDragOver = useCallback((e) => {\r\n        var _a;\r\n        e.preventDefault();\r\n        if ((_a = e.dataTransfer) === null || _a === void 0 ? void 0 : _a.types.includes(\"Files\")) {\r\n            if (!isDroppingFiles) {\r\n                setIsDroppingFiles(true);\r\n            }\r\n        }\r\n        else {\r\n            setIsDroppingFiles(false);\r\n        }\r\n    }, [isDroppingFiles]);\r\n    const handleDragLeave = useCallback((e) => {\r\n        e.preventDefault();\r\n        setIsDroppingFiles(false);\r\n    }, []);\r\n    const handleDrop = useCallback((e) => {\r\n        e.preventDefault();\r\n        setIsDroppingFiles(false);\r\n    }, []);\r\n    const freshHandleDragEnter = useFreshCallback(handleDragEnter);\r\n    const freshHandleDragOver = useFreshCallback(handleDragOver);\r\n    const freshHandleDragLeave = useFreshCallback(handleDragLeave);\r\n    const freshHandleDrop = useFreshCallback(handleDrop);\r\n    useEffect(() => {\r\n        const target = isTargetWindow ? window : targetNode;\r\n        if (target) {\r\n            target.addEventListener(\"dragenter\", freshHandleDragEnter);\r\n            target.addEventListener(\"dragover\", freshHandleDragOver);\r\n            target.addEventListener(\"dragleave\", freshHandleDragLeave);\r\n            target.addEventListener(\"drop\", freshHandleDrop);\r\n        }\r\n        return () => {\r\n            if (target) {\r\n                target.removeEventListener(\"dragenter\", freshHandleDragEnter);\r\n                target.removeEventListener(\"dragover\", freshHandleDragOver);\r\n                target.removeEventListener(\"dragleave\", freshHandleDragLeave);\r\n                target.removeEventListener(\"drop\", freshHandleDrop);\r\n            }\r\n        };\r\n    }, [\r\n        freshHandleDragEnter,\r\n        freshHandleDragLeave,\r\n        freshHandleDragOver,\r\n        freshHandleDrop,\r\n        isDroppingFiles,\r\n        isTargetWindow,\r\n        targetNode,\r\n    ]);\r\n    if (isTargetWindow) {\r\n        return isDroppingFiles;\r\n    }\r\n    return [ref, isDroppingFiles];\r\n}\n\nexport { useIsDroppingFiles };\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AACxD,SAASC,gBAAgB,QAAQ,uBAAuB;AAExD,SAASC,kBAAkBA,CAAA,EAAyB;EAAA,IAAxBC,cAAc,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;EAC9C,MAAM,CAACG,UAAU,EAAEC,aAAa,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAMW,GAAG,GAAGV,WAAW,CAAEW,IAAI,IAAK;IAC9BF,aAAa,CAACE,IAAI,CAAC;EACvB,CAAC,EAAE,EAAE,CAAC;EACN,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAMe,eAAe,GAAGd,WAAW,CAAEe,CAAC,IAAK;IACvC,IAAIC,EAAE;IACND,CAAC,CAACE,cAAc,EAAE;IAClB,IAAI,CAACD,EAAE,GAAGD,CAAC,CAACG,YAAY,MAAM,IAAI,IAAIF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACG,KAAK,CAACC,QAAQ,CAAC,OAAO,CAAC,EAAE;MACvF,IAAI,CAACR,eAAe,EAAE;QAClBC,kBAAkB,CAAC,IAAI,CAAC;MAC5B;IACJ,CAAC,MACI;MACDA,kBAAkB,CAAC,KAAK,CAAC;IAC7B;EACJ,CAAC,EAAE,CAACD,eAAe,CAAC,CAAC;EACrB,MAAMS,cAAc,GAAGrB,WAAW,CAAEe,CAAC,IAAK;IACtC,IAAIC,EAAE;IACND,CAAC,CAACE,cAAc,EAAE;IAClB,IAAI,CAACD,EAAE,GAAGD,CAAC,CAACG,YAAY,MAAM,IAAI,IAAIF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACG,KAAK,CAACC,QAAQ,CAAC,OAAO,CAAC,EAAE;MACvF,IAAI,CAACR,eAAe,EAAE;QAClBC,kBAAkB,CAAC,IAAI,CAAC;MAC5B;IACJ,CAAC,MACI;MACDA,kBAAkB,CAAC,KAAK,CAAC;IAC7B;EACJ,CAAC,EAAE,CAACD,eAAe,CAAC,CAAC;EACrB,MAAMU,eAAe,GAAGtB,WAAW,CAAEe,CAAC,IAAK;IACvCA,CAAC,CAACE,cAAc,EAAE;IAClBJ,kBAAkB,CAAC,KAAK,CAAC;EAC7B,CAAC,EAAE,EAAE,CAAC;EACN,MAAMU,UAAU,GAAGvB,WAAW,CAAEe,CAAC,IAAK;IAClCA,CAAC,CAACE,cAAc,EAAE;IAClBJ,kBAAkB,CAAC,KAAK,CAAC;EAC7B,CAAC,EAAE,EAAE,CAAC;EACN,MAAMW,oBAAoB,GAAGtB,gBAAgB,CAACY,eAAe,CAAC;EAC9D,MAAMW,mBAAmB,GAAGvB,gBAAgB,CAACmB,cAAc,CAAC;EAC5D,MAAMK,oBAAoB,GAAGxB,gBAAgB,CAACoB,eAAe,CAAC;EAC9D,MAAMK,eAAe,GAAGzB,gBAAgB,CAACqB,UAAU,CAAC;EACpDtB,SAAS,CAAC,MAAM;IACZ,MAAM2B,MAAM,GAAGxB,cAAc,GAAGyB,MAAM,GAAGrB,UAAU;IACnD,IAAIoB,MAAM,EAAE;MACRA,MAAM,CAACE,gBAAgB,CAAC,WAAW,EAAEN,oBAAoB,CAAC;MAC1DI,MAAM,CAACE,gBAAgB,CAAC,UAAU,EAAEL,mBAAmB,CAAC;MACxDG,MAAM,CAACE,gBAAgB,CAAC,WAAW,EAAEJ,oBAAoB,CAAC;MAC1DE,MAAM,CAACE,gBAAgB,CAAC,MAAM,EAAEH,eAAe,CAAC;IACpD;IACA,OAAO,MAAM;MACT,IAAIC,MAAM,EAAE;QACRA,MAAM,CAACG,mBAAmB,CAAC,WAAW,EAAEP,oBAAoB,CAAC;QAC7DI,MAAM,CAACG,mBAAmB,CAAC,UAAU,EAAEN,mBAAmB,CAAC;QAC3DG,MAAM,CAACG,mBAAmB,CAAC,WAAW,EAAEL,oBAAoB,CAAC;QAC7DE,MAAM,CAACG,mBAAmB,CAAC,MAAM,EAAEJ,eAAe,CAAC;MACvD;IACJ,CAAC;EACL,CAAC,EAAE,CACCH,oBAAoB,EACpBE,oBAAoB,EACpBD,mBAAmB,EACnBE,eAAe,EACff,eAAe,EACfR,cAAc,EACdI,UAAU,CACb,CAAC;EACF,IAAIJ,cAAc,EAAE;IAChB,OAAOQ,eAAe;EAC1B;EACA,OAAO,CAACF,GAAG,EAAEE,eAAe,CAAC;AACjC;AAEA,SAAST,kBAAkB"},"metadata":{},"sourceType":"module"}