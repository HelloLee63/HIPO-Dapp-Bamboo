{"ast":null,"code":"import { useEffect } from 'react';\nimport { useFreshTick } from './useFreshTick.js';\nimport { useIsomorphicEffect } from './useIsomorphicEffect.js';\nimport { warning } from './warning.js';\n\n/**\r\n *  useGlobalObjectEventListener hook\r\n *\r\n *  A react hook to an event listener to a global object\r\n *\r\n * @param {Window|Document} globalObject The global object to add event onto\r\n * @param {string} eventName The event to track\r\n * @param {Function} callback The callback to be called on event\r\n * @param {ListenerOptions} listenerOptions The options to be passed to the event listener\r\n * @param {boolean} when Should the event listener be active\r\n * @param {boolean} isLayoutEffect Should it use layout effect. Defaults to false\r\n * @see https://rooks.vercel.app/docs/useGlobalObjectEventListener\r\n */\nfunction useGlobalObjectEventListener(globalObject, eventName, callback) {\n  let listenerOptions = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  let when = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  let isLayoutEffect = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n  const freshCallback = useFreshTick(callback);\n  const useEffectToRun = isLayoutEffect ? useIsomorphicEffect : useEffect;\n  useEffectToRun(() => {\n    warning(typeof globalObject !== \"undefined\", \"[useGlobalObjectEventListener]: Cannot attach event handlers to undefined.\");\n    if (typeof globalObject !== \"undefined\" && when) {\n      globalObject.addEventListener(eventName, freshCallback, listenerOptions);\n      return () => {\n        globalObject.removeEventListener(eventName, freshCallback, listenerOptions);\n      };\n    }\n    return () => {};\n  }, [eventName, listenerOptions]);\n}\nexport { useGlobalObjectEventListener };","map":{"version":3,"names":["useEffect","useFreshTick","useIsomorphicEffect","warning","useGlobalObjectEventListener","globalObject","eventName","callback","listenerOptions","arguments","length","undefined","when","isLayoutEffect","freshCallback","useEffectToRun","addEventListener","removeEventListener"],"sources":["/Users/lijinxing/Documents/hipo-dapp-bamboo/node_modules/rooks/dist/esm/hooks/useGlobalObjectEventListener.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useFreshTick } from './useFreshTick.js';\nimport { useIsomorphicEffect } from './useIsomorphicEffect.js';\nimport { warning } from './warning.js';\n\n/**\r\n *  useGlobalObjectEventListener hook\r\n *\r\n *  A react hook to an event listener to a global object\r\n *\r\n * @param {Window|Document} globalObject The global object to add event onto\r\n * @param {string} eventName The event to track\r\n * @param {Function} callback The callback to be called on event\r\n * @param {ListenerOptions} listenerOptions The options to be passed to the event listener\r\n * @param {boolean} when Should the event listener be active\r\n * @param {boolean} isLayoutEffect Should it use layout effect. Defaults to false\r\n * @see https://rooks.vercel.app/docs/useGlobalObjectEventListener\r\n */\r\nfunction useGlobalObjectEventListener(globalObject, eventName, callback, listenerOptions = {}, when = true, isLayoutEffect = false) {\r\n    const freshCallback = useFreshTick(callback);\r\n    const useEffectToRun = isLayoutEffect ? useIsomorphicEffect : useEffect;\r\n    useEffectToRun(() => {\r\n        warning(typeof globalObject !== \"undefined\", \"[useGlobalObjectEventListener]: Cannot attach event handlers to undefined.\");\r\n        if (typeof globalObject !== \"undefined\" && when) {\r\n            globalObject.addEventListener(eventName, freshCallback, listenerOptions);\r\n            return () => {\r\n                globalObject.removeEventListener(eventName, freshCallback, listenerOptions);\r\n            };\r\n        }\r\n        return () => { };\r\n    }, [eventName, listenerOptions]);\r\n}\n\nexport { useGlobalObjectEventListener };\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,YAAY,QAAQ,mBAAmB;AAChD,SAASC,mBAAmB,QAAQ,0BAA0B;AAC9D,SAASC,OAAO,QAAQ,cAAc;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,4BAA4BA,CAACC,YAAY,EAAEC,SAAS,EAAEC,QAAQ,EAA6D;EAAA,IAA3DC,eAAe,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,IAAEG,IAAI,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;EAAA,IAAEI,cAAc,GAAAJ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;EAC9H,MAAMK,aAAa,GAAGb,YAAY,CAACM,QAAQ,CAAC;EAC5C,MAAMQ,cAAc,GAAGF,cAAc,GAAGX,mBAAmB,GAAGF,SAAS;EACvEe,cAAc,CAAC,MAAM;IACjBZ,OAAO,CAAC,OAAOE,YAAY,KAAK,WAAW,EAAE,4EAA4E,CAAC;IAC1H,IAAI,OAAOA,YAAY,KAAK,WAAW,IAAIO,IAAI,EAAE;MAC7CP,YAAY,CAACW,gBAAgB,CAACV,SAAS,EAAEQ,aAAa,EAAEN,eAAe,CAAC;MACxE,OAAO,MAAM;QACTH,YAAY,CAACY,mBAAmB,CAACX,SAAS,EAAEQ,aAAa,EAAEN,eAAe,CAAC;MAC/E,CAAC;IACL;IACA,OAAO,MAAM,CAAE,CAAC;EACpB,CAAC,EAAE,CAACF,SAAS,EAAEE,eAAe,CAAC,CAAC;AACpC;AAEA,SAASJ,4BAA4B"},"metadata":{},"sourceType":"module"}