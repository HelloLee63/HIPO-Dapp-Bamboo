{"ast":null,"code":"var _jsxFileName = \"/Users/lijinxing/Documents/hipo-dapp-bamboo/src/web3/Web3Provider.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext, useEffect, useState, useMemo, useCallback } from \"react\";\nimport Web3 from \"web3\";\nimport EventEmitter from \"wolfy87-eventemitter\";\nimport { useGeneral } from \"../layout/components/general-provider/GeneralProvider\";\nimport SelectNetworkModal from \"../network/components/select-network-modal/SelectNetworkModal\";\nimport { useNetwork } from \"../network/networkProvider\";\nimport { RinkebyTestnetNetwork } from \"../network/networks/rinkeby-testnet\";\nimport { MetamaskConnector } from \"../wallet/connectors/metamask/MetamaskConnector\";\nimport { useWallet } from \"../wallet/walletProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RinkebyHttpsWeb3Provider = new Web3.providers.HttpProvider(RinkebyTestnetNetwork.rpc.httpsUrl);\nconst CacheHttpsWeb3Provider = {\n  [RinkebyTestnetNetwork.rpc.httpsUrl]: RinkebyHttpsWeb3Provider\n};\nexport const WEB3_ERROR_VALUE = 3.9638773911973445e75;\nconst Context = /*#__PURE__*/createContext();\nexport function useWeb3() {\n  _s();\n  return useContext(Context);\n}\n_s(useWeb3, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nconst Web3Provider = props => {\n  _s2();\n  const {\n    children\n  } = props;\n  const {\n    windowState\n  } = useGeneral();\n  const {\n    activeNetwork,\n    changeNetwork,\n    findNetwork,\n    findNetworkByChainId,\n    defaultNetwork\n  } = useNetwork();\n  const wallet = useWallet();\n  const event = useMemo(() => new EventEmitter(), []);\n  const [blockNumer, setBlockNumber] = useState();\n  const [networkSelectVisible, showNetworkSelect] = useState(false);\n  const httpsWeb3 = useMemo(() => {\n    let provider = CacheHttpsWeb3Provider[activeNetwork.rpc.httpsUrl];\n    if (!provider) {\n      provider = new Web3.providers.HttpProvider(activeNetwork.rpc.httpsUrl);\n      CacheHttpsWeb3Provider[activeNetwork.rpc.httpsUrl] = provider;\n    }\n    return new Web3(provider);\n  }, [activeNetwork]);\n  const wssWeb3 = useMemo(() => {\n    if (activeNetwork.rpc.wssUrl) {\n      return undefined;\n    }\n    const provider = new Web3.providers.WebsocketProvider(activeNetwork.rpc.wssUrl);\n    return new Web3(provider);\n  }, [activeNetwork]);\n  function tryCall(to, from, data, value) {\n    return httpsWeb3.eth.call({\n      to,\n      from,\n      data,\n      value\n    });\n  }\n  const getContractAbi = useCallback(async address => {\n    const {\n      apiUrl,\n      key\n    } = activeNetwork.explorer;\n    const url = `${apiUrl}/api?module=contract&action=getabi&address=${address}&apikey=${key}`;\n    const result = await fetch(url);\n    const {\n      status,\n      result: result_2\n    } = await result.json();\n    if (status === '1') {\n      return JSON.parse(result_2);\n    }\n    return Promise.reject(result_2);\n  }, [activeNetwork.explorer]);\n  useEffect(() => {\n    if (wallet.connector instanceof MetamaskConnector) {\n      wallet.connector.getProvider().then(provider => {\n        provider.on('chainChanged', chainId => {\n          var _findNetworkByChainId;\n          const network = (_findNetworkByChainId = findNetworkByChainId(Number(chainId))) !== null && _findNetworkByChainId !== void 0 ? _findNetworkByChainId : defaultNetwork;\n          changeNetwork(network.id);\n        });\n      });\n    }\n  }, [wallet.connector]);\n  const switchNetwork = useCallback(async networkId => {\n    const network = findNetwork(networkId);\n    if (!network) {\n      return;\n    }\n    let canSetNetwork = true;\n    if (wallet.connector instanceof MetamaskConnector && network.metamaskChain) {\n      try {\n        const error = await wallet.connector.switchChain({\n          chainId: network.metamaskChain.chainId\n        });\n        if (error) {\n          await Promise.reject(error);\n        }\n      } catch (e) {\n        var _e$message;\n        canSetNetwork = false;\n        if (e.code === 4902 || (_e$message = e.message) !== null && _e$message !== void 0 && _e$message.includes('Unrecognized chain ID')) {\n          await wallet.connector.addChain(network.metamaskChain);\n        }\n      }\n    }\n    if (canSetNetwork) {\n      changeNetwork(network.id);\n    }\n  }, [wallet.connector]);\n  useEffect(() => {\n    if (!windowState.isVisible || !wssWeb3) {\n      return undefined;\n    }\n    wssWeb3.eth.getBlockNumber().then(value => {\n      if (value) {\n        setBlockNumber(value);\n      }\n    }).catch(Error);\n    const subscription = wssWeb3.eth.subscribe('newBlockHeaders');\n    subscription.on('data', blockHeader => {\n      if (blockHeader && blockHeader.number) {\n        setBlockNumber(blockHeader.number);\n      }\n    }).on('error', () => {\n      setTimeout(() => {\n        subscription.subscribe();\n      }, 1000);\n    });\n    return () => {\n      var _subscription$unsubsc;\n      (_subscription$unsubsc = subscription.unsubscribe) === null || _subscription$unsubsc === void 0 ? void 0 : _subscription$unsubsc.call(subscription);\n    };\n  }, [windowState.isVisible]);\n  function getEtherscanTxUrl(txHash) {\n    return txHash ? `${activeNetwork.explorer.url}/tx/${txHash}` : undefined;\n  }\n  function getEtherscanAddressUrl(address) {\n    return address ? `${activeNetwork.explorer.url}/address/${address}` : undefined;\n  }\n  const value = {\n    event,\n    blockNumer,\n    activeProvider: httpsWeb3,\n    switchNetwork,\n    showNetworkSelect: () => {\n      showNetworkSelect(true);\n    },\n    tryCall,\n    getContractAbi,\n    getEtherscanTxUrl,\n    getEtherscanAddressUrl\n  };\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: value,\n    children: [children, networkSelectVisible && /*#__PURE__*/_jsxDEV(SelectNetworkModal, {\n      onCancel: () => showNetworkSelect(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 34\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 7\n  }, this);\n};\n_s2(Web3Provider, \"Ob697Zj3GtXBLFrIBo46CTdNjX8=\", false, function () {\n  return [useGeneral, useNetwork, useWallet];\n});\n_c = Web3Provider;\nexport default Web3Provider;\nvar _c;\n$RefreshReg$(_c, \"Web3Provider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","useMemo","useCallback","Web3","EventEmitter","useGeneral","SelectNetworkModal","useNetwork","RinkebyTestnetNetwork","MetamaskConnector","useWallet","jsxDEV","_jsxDEV","RinkebyHttpsWeb3Provider","providers","HttpProvider","rpc","httpsUrl","CacheHttpsWeb3Provider","WEB3_ERROR_VALUE","Context","useWeb3","_s","Web3Provider","props","_s2","children","windowState","activeNetwork","changeNetwork","findNetwork","findNetworkByChainId","defaultNetwork","wallet","event","blockNumer","setBlockNumber","networkSelectVisible","showNetworkSelect","httpsWeb3","provider","wssWeb3","wssUrl","undefined","WebsocketProvider","tryCall","to","from","data","value","eth","call","getContractAbi","address","apiUrl","key","explorer","url","result","fetch","status","result_2","json","JSON","parse","Promise","reject","connector","getProvider","then","on","chainId","_findNetworkByChainId","network","Number","id","switchNetwork","networkId","canSetNetwork","metamaskChain","error","switchChain","e","_e$message","code","message","includes","addChain","isVisible","getBlockNumber","catch","Error","subscription","subscribe","blockHeader","number","setTimeout","_subscription$unsubsc","unsubscribe","getEtherscanTxUrl","txHash","getEtherscanAddressUrl","activeProvider","Provider","onCancel","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/lijinxing/Documents/hipo-dapp-bamboo/src/web3/Web3Provider.jsx"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport { createContext, useContext, useEffect, useState, useMemo, useCallback } from \"react\";\nimport Web3 from \"web3\";\nimport EventEmitter from \"wolfy87-eventemitter\";\nimport { useGeneral } from \"../layout/components/general-provider/GeneralProvider\";\nimport SelectNetworkModal from \"../network/components/select-network-modal/SelectNetworkModal\";\nimport { useNetwork } from \"../network/networkProvider\";\nimport { RinkebyTestnetNetwork } from \"../network/networks/rinkeby-testnet\";\nimport { MetamaskConnector } from \"../wallet/connectors/metamask/MetamaskConnector\";\nimport { useWallet } from \"../wallet/walletProvider\";\n\nexport const RinkebyHttpsWeb3Provider = new Web3.providers.HttpProvider(RinkebyTestnetNetwork.rpc.httpsUrl)\n\nconst CacheHttpsWeb3Provider = {\n    [RinkebyTestnetNetwork.rpc.httpsUrl]: RinkebyHttpsWeb3Provider,\n}\n\nexport const WEB3_ERROR_VALUE = 3.9638773911973445e75\n\nconst Context = createContext()\n\nexport function useWeb3() {\n    return useContext(Context)\n}\n\nconst Web3Provider = props => {\n\n    const { children } = props\n    const { windowState } = useGeneral()\n    const { activeNetwork, changeNetwork, findNetwork, findNetworkByChainId, defaultNetwork } = useNetwork()\n\n    const wallet = useWallet()\n\n    const event = useMemo(() => new EventEmitter(), [])\n\n    const [blockNumer, setBlockNumber] = useState()\n    const [networkSelectVisible, showNetworkSelect] = useState(false)\n    \n\n    const httpsWeb3 = useMemo(() => {\n      let provider = CacheHttpsWeb3Provider[activeNetwork.rpc.httpsUrl]\n      if (!provider) {\n          provider = new Web3.providers.HttpProvider(activeNetwork.rpc.httpsUrl)\n          CacheHttpsWeb3Provider[activeNetwork.rpc.httpsUrl] = provider\n      }\n\n      return new Web3(provider)\n    }, [activeNetwork])\n\n    const wssWeb3 = useMemo(() => {\n      if (activeNetwork.rpc.wssUrl) {\n        return undefined\n      }\n\n      const provider = new Web3.providers.WebsocketProvider(activeNetwork.rpc.wssUrl)\n      return new Web3(provider)\n    }, [activeNetwork])\n\n    function tryCall (to, from, data, value) {\n      return httpsWeb3.eth.call({\n        to,\n        from,\n        data,\n        value,\n      })\n    }\n\n    const getContractAbi = useCallback(\n      async (address) => {\n        const { apiUrl, key } = activeNetwork.explorer\n        const url = `${apiUrl}/api?module=contract&action=getabi&address=${address}&apikey=${key}`\n        const result = await fetch(url);\n        const { status, result: result_2 } = await result.json();\n        if (status === '1') {\n          return JSON.parse(result_2);\n        }\n        return Promise.reject(result_2);\n      },\n      [activeNetwork.explorer],\n      )\n\n    useEffect(() => {\n      if (wallet.connector instanceof MetamaskConnector) {\n        wallet.connector.getProvider().then(provider => {\n            provider.on('chainChanged', (chainId) => {\n                const network = findNetworkByChainId(Number(chainId)) ?? defaultNetwork\n                changeNetwork(network.id)\n            })\n        })\n      }\n    }, [wallet.connector])\n\n    const switchNetwork = useCallback(\n      async (networkId) => {\n        const network = findNetwork(networkId)\n\n        if (!network) {\n            return\n        }\n\n        let canSetNetwork = true\n\n        if (wallet.connector instanceof MetamaskConnector && network.metamaskChain) {\n          try {\n            const error = await wallet.connector.switchChain({\n              chainId: network.metamaskChain.chainId,\n            })\n\n            if(error) {\n              await Promise.reject(error)\n            }\n          } catch (e) {\n              canSetNetwork = false\n\n              if (e.code === 4902 || e.message?.includes('Unrecognized chain ID')) {\n                await wallet.connector.addChain(network.metamaskChain)\n              }                           \n          }\n        }\n\n        if (canSetNetwork) {\n            changeNetwork(network.id)\n        }\n      },\n      [wallet.connector],\n    )\n\n    useEffect(() => {\n      if (!windowState.isVisible || !wssWeb3) {\n          return undefined\n      }\n\n      wssWeb3.eth\n          .getBlockNumber()\n          .then(value => {\n              if (value) {\n                  setBlockNumber(value)\n              }\n          })\n          .catch(Error)\n      const subscription = wssWeb3.eth.subscribe('newBlockHeaders')\n\n      subscription\n        .on('data', blockHeader => {\n            if (blockHeader && blockHeader.number) {\n                setBlockNumber(blockHeader.number)\n            }\n        })\n        .on('error', () => {\n            setTimeout(() => {\n                subscription.subscribe()\n            }, 1_000)\n        })\n      \n      return () => {\n        subscription.unsubscribe?.()\n      }\n    }, [windowState.isVisible])\n\n    function getEtherscanTxUrl(txHash) {\n      return txHash ? `${activeNetwork.explorer.url}/tx/${txHash}` : undefined\n    }\n    \n    function getEtherscanAddressUrl(address) {\n      return address ? `${activeNetwork.explorer.url}/address/${address}` : undefined\n    }\n\n    const value ={\n      event,\n      blockNumer,\n      activeProvider: httpsWeb3,\n      switchNetwork,\n      showNetworkSelect: () => {\n        showNetworkSelect(true)\n      },\n      tryCall,\n      getContractAbi,\n      getEtherscanTxUrl,\n      getEtherscanAddressUrl,\n    }\n\n    return (\n      <Context.Provider value={value}>\n        {children}\n        {networkSelectVisible && <SelectNetworkModal onCancel={() => showNetworkSelect(false)} />}\n      </Context.Provider>\n    )    \n}\n\nexport default Web3Provider"],"mappings":"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"},"metadata":{},"sourceType":"module"}